"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[946],{946:function(t,e,r){r.r(e),r.d(e,{default:function(){return d}});var n=r(861),a=r(439),s=r(757),c=r.n(s),u=r(791),i=r(87),o=r(689),p={list:"movies-list_list__QsEHr",item_text:"movies-list_item_text__6vcIc"},f=r(184),l=function(t){var e=t.movies,r=(0,o.TH)();return(0,f.jsx)("ul",{className:p.list,children:e.map((function(t){var e=t.id,n=t.title,a=t.poster_path;return(0,f.jsx)("li",{className:p.list_item,children:(0,f.jsxs)(i.OL,{to:"/movies/".concat(e),state:{from:r},children:[(0,f.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(a),alt:n}),(0,f.jsx)("p",{className:p.item_text,children:n})]})},e)}))})},m=r(686),h={Searchbar:"search-bar_Searchbar__5iKIE",SearchForm:"search-bar_SearchForm__oWk2K",SearchForm_button:"search-bar_SearchForm_button__j57lH",SearchForm_button_label:"search-bar_SearchForm_button_label__5Q8mw",input:"search-bar_input__Bh55f"},_=function(t){var e=t.onSubmit,r=(0,u.useState)(""),n=(0,a.Z)(r,2),s=n[0],c=n[1];return(0,f.jsx)("header",{className:h.Searchbar,children:(0,f.jsxs)("form",{className:h.SearchForm,onSubmit:function(t){t.preventDefault(),""!==s.trim()?(e(s),c("")):m.Notify.warning("Please write something before searching")},children:[(0,f.jsx)("button",{type:"submit",className:h.SearchForm_button,children:(0,f.jsx)("span",{className:h.SearchForm_button_label,children:"Search"})}),(0,f.jsx)("input",{className:h.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:s,onChange:function(t){c(t.target.value.toLowerCase())}})]})})},v=r(273),d=function(){var t,e=(0,u.useState)([]),r=(0,a.Z)(e,2),s=r[0],o=r[1],p=(0,u.useState)(""),h=(0,a.Z)(p,2),d=h[0],b=h[1],x=(0,i.lr)(),w=(0,a.Z)(x,2),S=w[0],g=w[1],k=null!==(t=S.get("data"))&&void 0!==t?t:"";return(0,u.useEffect)((function(){function t(){return(t=(0,n.Z)(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,v.NV)(k||d);case 3:0===(e=t.sent).length&&m.Notify.failure("Please, write something!"),o(e),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}(d||k)&&function(){t.apply(this,arguments)}()}),[d,k]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(_,{onSubmit:function(t){o([]),b(t),g(""!==t?{data:t}:{})}}),s&&(0,f.jsx)(l,{movies:s})]})}},273:function(t,e,r){r.d(e,{NV:function(){return o},TP:function(){return p},UF:function(){return i},tx:function(){return l},zv:function(){return f}});var n=r(861),a=r(757),s=r.n(a),c=r(912);c.Z.defaults.baseURL="https://api.themoviedb.org/3";var u="bf1b18a8f71345d05dd12a0ab0ee762f",i=function(){var t=(0,n.Z)(s().mark((function t(){var e,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={params:{api_key:u}},t.next=3,c.Z.get("/trending/movie/day",e);case 3:return r=t.sent,t.abrupt("return",r.data.results);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=(0,n.Z)(s().mark((function t(e){var r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={params:{api_key:u,query:e}},t.next=3,c.Z.get("/search/movie",r);case 3:return n=t.sent,t.abrupt("return",n.data.results);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,n.Z)(s().mark((function t(e){var r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={params:{api_key:u}},t.next=3,c.Z.get("/movie/".concat(e),r);case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,n.Z)(s().mark((function t(e){var r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={params:{api_key:u}},t.next=3,c.Z.get("/movie/".concat(e,"/credits"),r);case 3:return n=t.sent,t.abrupt("return",n.data.cast);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,n.Z)(s().mark((function t(e){var r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={params:{api_key:u}},t.next=3,c.Z.get("/movie/".concat(e,"/reviews"),r);case 3:return n=t.sent,t.abrupt("return",n.data.results);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}]);
//# sourceMappingURL=946.695d2934.chunk.js.map